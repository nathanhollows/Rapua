{{ define "content" }}

<!-- Messages -->
<div class="m-5">
  {{ template "flash" .messages }}
</div>

<!-- Menu and content w/ flex-->
<div class="flex flex-col md:flex-row w-full gap-8 p-5">

  <div class="w-min-content">
    <ul id="menu" class="menu bg-base-200 rounded-box w-56 sticky top-12">
      <li>
        <a href="#guide">Markdown Guide</a>
        <ul>
          <li><a href="#headers">Headers</a></li>
          <li><a href="#paragraphs">Paragraphs</a></li>
          <li><a href="#typography">Typography</a></li>
          <li><a href="#quotes">Block quotes</a></li>
          <li><a href="#lists">Lists</a></li>
          <li><a href="#horizontal-rules">Horizontal Rules</a></li>
          <li><a href="#links">Links</a></li>
          <li><a href="#images">Images</a></li>
        </ul>
      </li>
    </ul>
  </div>

  <section class="w-full prose">
    <h1 id="guide" class="scroll-m-12">
      <a href="#guide" class="opacity-20 hover:opacity-60 no-underline">#</a>
      Markdown Guide</h1>

    <p>
      <em>Markdown</em> is a markup language with a gentle learning curve that makes formatting text quick and easy. It turns your text into HTML without the need for a visual editor. This guide will help you get started with Markdown in no time.
    </p>

    <p>For example, to <em>italicise</em> a word, you can wrap it in asterisks: <code>*emphasized*</code>. To make a word <strong>bold</strong>, you can use double asterisks: <code>**bold**</code>. You can also create lists, block quotes, and add images.</p>

    <!-- Headers -->
    <h2 id="headers" class="scroll-m-12">
      <a href="#headers" class="opacity-20 hover:opacity-60 no-underline">#</a>
      Headers</h2>
    <div class="mockup-code not-prose my-3">
      <pre data-prefix="1"><code># Header Level One</code></pre>
      <pre data-prefix="2"><code>## Header Level Two</code></pre>
      <pre data-prefix="3"><code>### Header Level Three</code></pre>
      <pre data-prefix="4"><code>#### Header Level Four</code></pre>
      <pre data-prefix="5"><code>##### Header Level Five</code></pre>
      <pre data-prefix="6"><code>###### Header Level Six</code></pre>
    </div>
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body">
        <h1>Header Level One</h1>
        <h2>Header Level Two</h2>
        <h3>Header Level Three</h3>
        <h4>Header Level Four</h4>
        <h5>Header Level Five</h5>
        <h6>Header Level Six</h6>
      </div>
    </div>

    <!-- Paragraphs -->
    <h2 id="paragraphs" class="scroll-m-12">
      <a href="#paragraphs" class="opacity-20 opacity-60 no-underline">#</a>
      Paragraphs</h2>
      <div class="mockup-code not-prose my-3">
        <pre data-prefix="1"><code>A paragraph is one or more lines of text followed by one or more blank line. Newlines are treated as spaces.  </code></pre>
        <pre data-prefix="2"><code>If you need a hard line break, put two or more spaces at the end of a line or insert a new blank line...</code></pre>
        <pre data-prefix="3"><code></code></pre>
        <pre data-prefix="4"><code>Like this.</code></pre>
      </div>
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body">
        <p>A paragraph is one or more lines of text followed by one or more blank line. Newlines are treated as spaces.  </p>
        <p>If you need a hard line break, put two or more spaces at the end of a line or insert a new blank line...</p>
        <p>Like this.</p>
      </div>
    </div>

    <!-- Typography -->
    <h2 id="typography" class="scroll-m-12">
      <a href="#typography" class="opacity-20 hover:opacity-60 no-underline">#</a>
      Typography</h2>
    <p>Emphasizing some text is done by surrounding it with asterisks or underscores. To make text bold, use double asterisks or underscores.</p>
    <div class="mockup-code not-prose my-3">
      <pre data-prefix="1"><code>This is *emphasized with asterisks*.</code></pre>
      <pre data-prefix="2"><code>This is **bold text**.</code></pre>
      <pre data-prefix="3"><code>This is ***bold and emphasized***.</code></pre>
    </div>
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body">
        <p>This is <em>emphasized with asterisks</em>. <br>
          This is <strong>bold text</strong>. <br>
          This is <strong><em>bold and emphasized</em></strong>.</p>
      </div>
    </div>

    <!-- Block quotations -->
    <h2 id="quotes" class="scroll-m-12">
      <a href="#quotes" class="opacity-20 hover:opacity-60 no-underline">#</a>
      Block quotes</h2>
    <p>Block quotes in markdown use the same convention as in emails. A generic block quote looks like this:</p>
    <div class="mockup-code not-prose my-3">
      <pre data-prefix="1"><code>&gt; This is a block quote.</code></pre>
      <pre data-prefix="2"><code>&gt; This paragraph has two lines.</code></pre>
      <pre data-prefix="3"><code>&gt; &gt; And block quotes can be nested, as well.</code></pre>
    </div>
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body">
        <blockquote>
          <p>This is a block quote.<br>
            This paragraph has two lines.</p>
          <blockquote>
            <p>And block quotes can be nested, as well.</p>
          </blockquote>
        </blockquote>
      </div>
    </div>

    <!-- Lists -->
    <h2 id="lists" class="scroll-m-12">
      <a href="#lists" class="opacity-20 hover:opacity-60 no-underline">#</a>
      Lists</h2>

    <h3>Bullet List:</h3>
    <p>Creating a bullet list is simple. You may use asterisks or hyphens, but it's bad practice to use both in the same list. You can also nest lists easily:</p>
    <div class="mockup-code not-prose my-3">
      <pre data-prefix="1"><code>* fruits</code></pre>
      <pre data-prefix="2"><code>  * pears</code></pre>
      <pre data-prefix="3"><code>  * peaches</code></pre>
      <pre data-prefix="4"><code>* vegetables</code></pre>
      <pre data-prefix="5"><code>  * broccoli</code></pre>
    </div>
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body">
        <ul>
          <li>fruits
            <ul>
              <li>pears</li>
              <li>peaches</li>
            </ul>
          </li>
          <li>vegetables
            <ul>
              <li>broccoli</li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <h3>Numbered Lists:</h3>
    <p>Numbered lists are created by typing a number followed by a period at the beginning of a line. The numbers themselves are not important:</p>
    <div class="mockup-code not-prose my-3">
      <pre data-prefix="1"><code>1. Item 1</code></pre>
      <pre data-prefix="2"><code>2. Item 2</code></pre>
      <pre data-prefix="3"><code>3. Item 3</code></pre>
      <pre data-prefix="4"><code>1. Item 4</code></pre>
    </div>
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body">
        <ol>
          <li>Item 1</li>
          <li>Item 2</li>
          <li>Item 3</li>
          <li>Item 4</li>
        </ol>
      </div>
    </div>

    <!-- Horizontal Rules -->
    <h2 id="horizontal-rules" class="scroll-m-12">Horizontal Rules</h2>
    <p>Horizontal rules are easily created by putting three or more <code>***</code> or <code>---</code> on a line:</p>
    <div class="mockup-code not-prose my-3">
      <pre data-prefix="1"><code>***</code></pre>
      <pre data-prefix="2"><code>---</code></pre>
    </div>
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body">
        <hr>
        <hr>
      </div>
    </div>

    <!-- Links -->
    <h2 id="links" class="scroll-m-12">
      <a href="#links" class="opacity-20 hover:opacity-60 no-underline">#</a>
      Links</h2>
    <p>Enclosing an URL in pointy brackets transforms them into links, or you can use the <code>[text](url)</code> syntax:</p>
    <div class="mockup-code not-prose my-3">
      <pre data-prefix="1"><code>&lt;https://nathanhollows.com&gt;</code></pre>
      <pre data-prefix="2"><code>[Nathan Hollows](https://nathanhollows.com)</code></pre>
    </div>
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body">
        <p><a href="https://nathanhollows.com">https://nathanhollows.com</a><br>
          <a href="https://nathanhollows.com">Nathan Hollows</a></p>
      </div>
    </div>

    <!-- Images -->
    <h2 id="images" class="scroll-m-12">
      <a href="#images" class="opacity-20 hover:opacity-60 no-underline">#</a>
      Images</h2>
    <p>Images are similar to links, but they have an exclamation mark in front of them. You can also add a caption:</p>
    <div class="mockup-code not-prose my-3">
      <pre data-prefix="1"><code>![This is the caption](//via.placeholder.com/1130x700.png)</code></pre>
    </div>
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body py-0">
        <img src="//via.placeholder.com/1130x700.png" alt="This is the caption" class="rounded-lg">
      </div>
    </div>

  </section>
</div>

<style>
.prose pre code{
  text-wrap: auto;
  display: inline-flex;
  padding-right: 4em;
}
.mockup-code pre {
  overflow: hidden;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const menuLinks = document.querySelectorAll("#menu a");
  const sections = document.querySelectorAll("section h1, section h2");
  const scrollMargin = 3 * 16; // 3rem in pixels

  function onScroll() {
    let scrollPos = window.scrollY || document.documentElement.scrollTop || document.body.scrollTop;
    let offset = scrollMargin; // Offset for highlighting

    sections.forEach(section => {
      let top = section.offsetTop - offset;
      let bottom = top + section.offsetHeight;

      if (scrollPos >= top && scrollPos <= bottom) {
        menuLinks.forEach(link => {
          link.classList.remove("active");
          if (link.getAttribute("href").substring(1) === section.id) {
            link.classList.add("active");
          }
        });
      }
    });
  }

  function onClick(event) {
    menuLinks.forEach(link => link.classList.remove("active"));
    event.currentTarget.classList.add("active");
  }

  // Initial scroll spy activation
  window.addEventListener("scroll", onScroll);

  // Refresh active state on menu click
  menuLinks.forEach(link => {
    link.addEventListener("click", function (event) {
      onClick(event);
      setTimeout(onScroll, 100); // Re-run onScroll after a short delay
    });
  });
});
</script>
{{ end }}

<div class=\"flex flex-row justify-between items-center w-full p-5\"><h1 class=\"text-2xl font-bold\">Instances</h1><button class=\"btn btn-secondary\" onclick=\"new_modal.showModal()\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-plus w-5 h-5\"><path d=\"M5 12h14\"></path><path d=\"M12 5v14\"></path></svg> Create a new instance</button></div>
<div class=\":\"><table class=\"table\"><thead><tr><th class=\"text-left\">Name</th><th class=\"text-left\">Actions</th><th class=\"text-left\">Manage Instance</th></tr></thead> <tbody>
<tr class=\"hover\"><td class=\"font-bold\">
</td><td>
<a href=\"
\" class=\"btn btn-sm btn-secondary\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-map-pin-plus w-4 h-4\"><path d=\"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738\"></path><circle cx=\"12\" cy=\"10\" r=\"3\"></circle><path d=\"M16 18h6\"></path><path d=\"M19 15v6\"></path></svg> Add Location</a>
<a href=\"
\" class=\"btn btn-sm btn-secondary\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-map-pin-plus w-4 h-4\"><path d=\"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738\"></path><circle cx=\"12\" cy=\"10\" r=\"3\"></circle><path d=\"M16 18h6\"></path><path d=\"M19 15v6\"></path></svg> Add Location</a>
</td><td>
<span class=\"tooltip cursor-not-allowed\" data-tip=\"Already active\"><a href=\"
\" class=\"btn btn-sm\" disabled>Activate</a></span> 
<a href=\"
\" class=\"btn btn-sm\">Activate</a> 
<button class=\"btn btn-sm btn-secondary\" data-id=\"
\" data-name=\"
\" onclick=\"confirmDuplicate()\">Duplicate</button> 
<span class=\"tooltip cursor-not-allowed\" data-tip=\"Cannot delete current instance\"><button class=\"btn btn-sm btn-error tooltip\" data-tip=\"Cannot delete current instance\" aria-disabled=\"true\" aria-label=\"Cannot delete current instance\" disabled>Delete</button></span>
<button class=\"btn btn-sm btn-error\" data-id=\"
\" data-name=\"
\" onclick=\"confirmDelete()\">Delete</button>
</td></tr>
</tbody></table></div>
<p class=\"py-4\">No instances to show.</p>
<dialog id=\"confirm_duplicate_modal\" class=\"modal\"><div class=\"modal-box prose\"><h3 class=\"text-lg font-bold\">Duplicate an instance</h3><p class=\"pt-4\">You are about to duplicate an instance including:</p><ul class=\"mt-0\"><li>all associated locations</li><li>all associated events</li></ul>This will <strong>not</strong> duplicate any teams or activities/check-ins.<form method=\"post\" action=\"/admin/instances/duplicate\"><label class=\"form-control w-full\"><div class=\"label\"><span class=\"label-text\">New instance name</span></div><input type=\"text\" class=\"input input-bordered w-full\" name=\"name\" required> <input type=\"hidden\" name=\"id\" value=\"\"></label><div class=\"modal-action\"><button type=\"button\" class=\"btn\" onclick=\"confirm_duplicate_modal.close()\">Nevermind</button> <button type=\"submit\" class=\"btn btn-primary\">Duplicate</button></div></form></div></dialog> <dialog id=\"confirm_delete_modal\" class=\"modal\"><div class=\"modal-box prose outline outline-2 outline-offset-1 outline-error\"><h3 class=\"text-lg font-bold\">Delete an instance</h3><p class=\"pt-4\">You are about to delete an instance. Doing this will delete:</p><ul><li>all associated teams</li><li>all associated locations</li><li>all associated activities/scans</li></ul><p>To confirm, please type the name of the instance you want to delete: <code id=\"instance_name\">instance</code></p><form hx-post=\"/admin/instances/delete\" hx-swap=\"none\"><label class=\"form-control w-full\"><div class=\"label\"><span class=\"label-text\">Instance name</span></div><input type=\"text\" class=\"input input-bordered w-full\" name=\"name\" required> <input type=\"hidden\" name=\"id\" value=\"\"></label><div class=\"modal-action\"><button type=\"button\" class=\"btn\" onclick=\"confirm_delete_modal.close()\">Nevermind</button> <button type=\"submit\" class=\"btn btn-error\" onclick=\"confirm_delete_modal.close()\">Delete</button></div></form></div></dialog> <dialog id=\"new_modal\" class=\"modal\"><div class=\"modal-box\"><form hx-post=\"/admin/instances/new\" hx-swap=\"none\"><h3 class=\"text-lg font-bold\">Create a new instance</h3><label class=\"form-control w-full\"><div class=\"label\"><span class=\"label-text\">What is the name of the new instance?</span></div><input type=\"text\" class=\"input input-bordered w-full\" name=\"name\" required></label><div class=\"modal-action\"><button class=\"btn\" type=\"button\" onclick=\"new_modal.close()\">Nevermind</button> <button type=\"submit\" class=\"btn btn-primary\">Save</button></div></form></div></dialog><script>\nfunction confirmDelete() {\n  const id = event.target.dataset.id;\n  const name = event.target.dataset.name;\n  const instance_name = document.getElementById('instance_name');\n  const form = confirm_delete_modal.querySelector('form');\n  const input = form.querySelector('input[name=\"name\"]');\n  const hidden = form.querySelector('input[name=\"id\"]');\n\n  instance_name.textContent = name;\n  input.value = '';\n  hidden.value = id;\n\n  confirm_delete_modal.showModal();\n}\n\nfunction confirmDuplicate() {\n  const id = event.target.dataset.id;\n  const name = event.target.dataset.name;\n  const form = document.getElementById('confirm_duplicate_modal').querySelector('form');\n  const input = form.querySelector('input[name=\"name\"]');\n  const hidden = form.querySelector('input[name=\"id\"]');\n\n  input.value = name + ' (copy)';\n  hidden.value = id;\n\n  confirm_duplicate_modal.showModal();\n}\n\n</script>

<div class=\"
\"><div class=\"flex flex-row items-center gap-3 grow\"><input name=\"team-checkbox\" type=\"checkbox\" class=\"team-checkbox checkbox checkbox-sm checkbox-primary\" value=\"
\" _=\"on htmx:afterRequest from #delete-teams\n\t\t\t\t\tif me.checked\n\t\t\t\t\t\tadd .bg-danger .text-danger-content to closest .team-item\n\t\t\t\t\t\ttransition opacity to 0 then\n\t\t\t\t\t\tremove the closest .team-item\n\t\t\t\t\"><!-- Location code --><div class=\"tooltip cursor-pointer\" data-tip=\"Click to copy\" _=\"on click \n\t\t\t\t\twriteText(my textContent) on navigator.clipboard\n\t\t\t\t\tset @data-tip to &#39;Copied!&#39;\n\t\t\t\t\twait 2s\n\t\t\t\t\tset @data-tip to &#39;Click to copy&#39;\n\t\t\t\t\t\">
<span class=\"team-code badge badge-success badge-outline font-mono tracking-wider\">
</span>
<span class=\"team-code badge font-mono tracking-wider\">
</span>
</div><!-- Location name -->
<em class=\"flex-grow opacity-50\">No name set</em> 
<a class=\"flex-grow\">
</a> 
<span class=\"badge badge-ghost\">
 pts</span>
</div></div>
<span class=\"hidden bg-danger text-danger-content border-error\"></span><div class=\"flex flex-col gap-3 md:flex-row justify-between items-center w-full p-5\"><h1 class=\"text-2xl font-bold\">Teams</h1><div class=\"flex gap-3\">
<button id=\"copy-codes\" class=\"btn btn-outline\" onclick=\"copy_team_codes()\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-clipboard-copy\"><rect width=\"8\" height=\"4\" x=\"8\" y=\"2\" rx=\"1\" ry=\"1\"></rect><path d=\"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2\"></path><path d=\"M16 4h2a2 2 0 0 1 2 2v4\"></path><path d=\"M21 14H11\"></path><path d=\"m15 10-4 4 4 4\"></path></svg> Copy codes</button> 
<button class=\"btn btn-secondary\" onclick=\"add_teams_modal.showModal()\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-user-plus\"><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"></path><circle cx=\"9\" cy=\"7\" r=\"4\"></circle><line x1=\"19\" x2=\"19\" y1=\"8\" y2=\"14\"></line><line x1=\"22\" x2=\"16\" y1=\"11\" y2=\"11\"></line></svg> Add teams</button></div></div><div id=\"teams-list\" class=\"join join-vertical w-full px-5 rounded-lg\"><div class=\"flex flex-row items-center gap-3 border border-base-300 bg-base-200/80 rounded p-3 py-4 join-item\"><!-- Select all --><input id=\"select-all\" type=\"checkbox\" class=\"checkbox checkbox-sm checkbox-primary\" _=\"on change or load\n\t\t\t\t\t\tset &lt;.team-item:not(.hidden) input[name=&#39;team-checkbox&#39;]/&gt;&#39;s checked to my checked\n\t\t\t\t\t\tif my checked or my indeterminate\n\t\t\t\t\t\t\tadd .hidden to #team-filters\n\t\t\t\t\t\t\tremove .hidden from #team-actions\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tadd .hidden to #team-actions\n\t\t\t\t\t\t\tremove .hidden from #team-filters\n\t\t\t\t\tend\n\t\t\t\t\ton change from &lt;input[name=&#39;team-checkbox&#39;]/&gt;\n\t\t\t\t\t\tif &lt;input[name=&#39;team-checkbox&#39;]:checked/&gt;&#39;s length is not &lt;input[name=&#39;team-checkbox&#39;]/&gt;&#39;s length\n\t\t\t\t\t\t\tset my indeterminate to true\n\t\t\t\t\t\tend\n\t\t\t\t\t\tif &lt;input[name=&#39;team-checkbox&#39;]:checked/&gt;&#39;s length is 0\n\t\t\t\t\t\t\tset my indeterminate to false\n\t\t\t\t\t\t\tset my checked to false\n\t\t\t\t\t\tend\n\t\t\t\t\t\tif &lt;input[name=&#39;team-checkbox&#39;]:checked/&gt;&#39;s length is &lt;input[name=&#39;team-checkbox&#39;]/&gt;&#39;s length\n\t\t\t\t\t\t\tset my indeterminate to false\n\t\t\t\t\t\t\tset my checked to true\n\t\t\t\t\t\tend\n\t\t\t\t\t\tif my checked or my indeterminate\n\t\t\t\t\t\t\tadd .hidden to #team-filters\n\t\t\t\t\t\t\tremove .hidden from #team-actions\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tadd .hidden to #team-actions\n\t\t\t\t\t\t\tremove .hidden from #team-filters\n\t\t\t\t\tend\n\t\t\t\t\ton htmx:afterRequest from #delete-teams\n\t\t\t\t\t\twait 0.5s\n\t\t\t\t\t\tif me.checked\n\t\t\t\t\t\t\tset me.checked to false\n\t\t\t\t\t\t\tset me.indeterminate to false\n\t\t\t\t\t\t\tremove .hidden from #team-filters\n\t\t\t\t\t\t\tadd .hidden to #team-actions\n\t\t\t\t\t\"><div id=\"team-actions\" class=\"hidden flex flex-row flex-grow gap-3 items-center justify-between\"><span class=\"font-bold text-base-content text-sm\">Selected:  <span class=\"font-bold text-base-content/60\" _=\"on change from &lt;input[type=&#39;checkbox&#39;]/&gt;\n\t\t\t\t\t\t\tset my textContent to &lt;input[name=&#39;team-checkbox&#39;]:checked/&gt;&#39;s length\"></span></span><div class=\"flex flex-row gap-2\"><button class=\"btn btn-sm btn-outline\" _=\"on click\n\t\t\t\t\t\tset list to []\n\t\t\t\t\t\trepeat for x in &lt;input[name=&#39;team-checkbox&#39;]:checked/&gt;\n\t\t\t\t\t\t\tappend x&#39;s value to list\n\t\t\t\t\t\tend\n\t\t\t\t\t\twriteText(list.join(&#39;\\n&#39;)) on navigator.clipboard\n\t\t\t\t\t\tset my textContent to &#39;Copied!&#39;\n\t\t\t\t\t\twait 1.5s\n\t\t\t\t\t\tset my textContent to &#39;Copy Codes&#39;\n\t\t\t\t\t\">Copy Codes</button> <button id=\"delete-teams\" class=\"btn btn-sm btn-error btn-outline\" hx-post=\"/admin/teams/delete\" hx-include=\".team-item\" hx-swap=\"none\" _=\"on mouseover\n\t\t\t\t\t\trepeat for x in &lt;input[name=&#39;team-checkbox&#39;]:checked/&gt;\n\t\t\t\t\t\t\tadd .border-error .z-10 to x.closest(&#39;.team-item&#39;)\n\t\t\t\t\t\tend\n\t\t\t\t\t\ton mouseout\n\t\t\t\t\t\t\trepeat for x in &lt;input[name=&#39;team-checkbox&#39;]:checked/&gt;\n\t\t\t\t\t\t\t\tremove .border-error .z-10 from x.closest(&#39;.team-item&#39;)\n\t\t\t\t\t\tend\n\t\t\t\t\t\ton click\n\t\t\t\t\t\t\tset #select-all&#39;s indeterminate to false\n\t\t\t\t\t\">Delete</button></div></div><div id=\"team-filters\" class=\"flex flex-grow flex-row justify-between\"><!-- Active/Inactive count --><div class=\"flex gap-3 items-center flex-row\"><a href=\"#\" class=\"font-bold text-base-content text-sm\" _=\"on click\n\t\t\t\t\t\tif I do not match .opacity-60 and (next &lt;a/&gt;) matches .opacity-60\n\t\t\t\t\t\t\tremove .opacity-60 from next &lt;a/&gt;\n\t\t\t\t\t\t\tremove .hidden from &lt;.team-item.inactive/&gt;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tadd .opacity-60 to next &lt;a/&gt;\n\t\t\t\t\t\t\tremove .opacity-60 from me\n\t\t\t\t\t\t\tremove .hidden from &lt;.team-item.active/&gt;\n\t\t\t\t\t\t\tadd .hidden to &lt;.team-item.inactive/&gt;\n\t\t\t\t\t\tend\"><span _=\"on htmx:afterSettle from body set my textContent to &lt;.team-item.active/&gt;&#39;s length\">
</span> Active</a> <a href=\"#\" class=\"font-bold text-sm\" _=\"on click\n\t\t\t\t\t\tif I do not match .opacity-60 and (previous &lt;a/&gt;) matches .opacity-60\n\t\t\t\t\t\t\tremove .opacity-60 from previous &lt;a/&gt;\n\t\t\t\t\t\t\tremove .hidden from &lt;.team-item.active/&gt;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tadd .opacity-60 to previous &lt;a/&gt;\n\t\t\t\t\t\t\tremove .opacity-60 from me\n\t\t\t\t\t\t\tremove .hidden from &lt;.team-item.inactive/&gt;\n\t\t\t\t\t\t\tadd .hidden to &lt;.team-item.active/&gt;\n\t\t\t\t\t\tend\"><span _=\"on htmx:afterSettle from body or htmx:afterRequest from #delete-teams wait 0.5s set my textContent to &lt;.team-item.inactive/&gt;&#39;s length\">
</span> Inactive</a></div><!-- Search --><label class=\"input input-bordered input-sm flex items-center gap-2\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-search w-4 h-4\"><circle cx=\"11\" cy=\"11\" r=\"8\"></circle><path d=\"m21 21-4.3-4.3\"></path></svg> <input type=\"text\" class=\"grow\" placeholder=\"Search\" _=\"on input \n\t\t\t\t\t\t\tshow .team-item\n\t\t\t\t\t\t\t\twhen its textContent.toLowerCase().normalize(&#39;NFD&#39;)\n\t\t\t\t\t\t\t\tcontains my value.toLowerCase().normalize(&#39;NFD&#39;)\"></label></div></div>
<div
 class=\"no-teams flex flex-row justify-between items-center gap-3 border border-base-300 hover:bg-base-200 rounded-lg p-3 join-item bg-transparent transition-colors\"
 class=\"no-teams flex flex-row justify-between items-center gap-3 border border-base-300 hover:bg-base-200 rounded-lg p-3 join-item bg-transparent transition-colors hidden\"
 _=\"on htmx:afterSettle from body\n\t\t\t\tif &lt;.team-item/&gt;&#39;s length == 0\n\t\t\t\t\tremove .hidden from me\n\t\t\t\telse\n\t\t\t\t\tadd .hidden to me\n\t\t\t\tend\n\t\t\t\ton htmx:afterRequest from body\n\t\t\t\t\twait 0.5s\n\t\t\t\t\tif &lt;.team-item/&gt;&#39;s length == 0\n\t\t\t\t\t\tremove .hidden from me\n\t\t\t\t\telse\n\t\t\t\t\t\tadd .hidden to me\n\t\t\t\t\tend\n\t\t\t\t\"><div class=\"flex flex-row items-center gap-3 grow\"><p class=\"flex-grow text-center\">No teams to show yet. Do you want to <a href=\"#\" class=\"link\" onclick=\"add_teams_modal.showModal()\">add some teams</a>?</p></div></div></div><!-- Modal for adding teams --><dialog id=\"add_teams_modal\" class=\"modal\"><div class=\"modal-box\"><h3 class=\"font-bold text-lg\">Quick add teams</h3><p class=\"py-4\">How many teams would you like to add?</p><form hx-post=\"/admin/teams/add\" hx-target=\"#teams-list\" hx-swap=\"beforeend swap:0.5s\" class=\"join flex flex-row w-full\"><input name=\"count\" type=\"number\" id=\"count\" class=\"input input-bordered join-item flex-grow\" placeholder=\"1+\" min=\"1\" step=\"1\" value=\"10\"> <button class=\"btn btn-primary join-item\" onclick=\"add_teams_modal.close()\">Add Teams</button></form><div class=\"modal-action\"><form method=\"dialog\"><button class=\"btn\">Nevermind</button></form></div></div></dialog>
<script>\nfunction copy_team_codes() {\n  const team_codes = document.querySelectorAll('.team-code');\n  const codes = Array.from(team_codes).map((code) => code.innerText).join('\\n');\n  navigator.clipboard.writeText(codes);\n\n  const success = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-clipboard-check\"><rect width=\"8\" height=\"4\" x=\"8\" y=\"2\" rx=\"1\" ry=\"1\"/><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"/><path d=\"m9 14 2 2 4-4\"/></svg> Copied!`\n\n  const oldHTML = document.querySelector('#copy-codes').innerHTML;\n  document.querySelector('#copy-codes').innerHTML = success;\n  setTimeout(() => {\n    document.querySelector('#copy-codes').innerHTML = oldHTML;\n  }, 2000);\n}\n\t</script>
